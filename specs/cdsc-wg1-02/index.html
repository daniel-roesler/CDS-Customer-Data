<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Linux Foundation Energy - Carbon Data Specification Consortium (CDSC) - Customer DataWorking Group (WG1) - Specifications - cdsc-wg1-02 - Client Registration">
        <link rel="icon" type="image/png" href="/Customer-Data/assets/favicon.png">
        <meta name="robots" content="noindex, nofollow"/>
        <title>CDSC-WG1 - CDSC-WG1 - 02 Client Registration - Specification</title>
        <link href="/Customer-Data/assets/bootstrap-5.1.3-dist/css/bootstrap.min.css" rel="stylesheet">
        <style>
            /* Permalink styling */
            .permalink {
                text-decoration:none;
                font-size: 60%;
                display: inline-block;
                vertical-align: top;
                padding-top: 0.4em;
            }
            /* Code section styling */
            pre.highlight {
                background-color: #eee;
                padding: 0.5em;
            }
            /* SVG icons (based on https://github.com/diafygi/svg-font-to-svg-sprite-converter)
               Example (put "svgicons: fa-link, fa-plus-circle" in front matter):
               <svg class="svgicon"><use href="#fa-link"/></svg>
               <svg class="svgicon"><use href="#fa-plus-circle"/></svg>
            */
            #svgicon-defs{
                display: none;
            }
            .svgicon {
                overflow: visible !important;
                height: 0.7em;
                width: 0.7em;
                fill:currentColor;
            }
        </style>
    </head>
    <body>
        <!-- SVG Icons (see comment in css above on how to use) -->
        <svg id="svgicon-defs" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <symbol id="fa-external-link" viewBox="0 0 1792 1792" overflow="visible">
    <path d="M1408 928v320q0 119 -84.5 203.5t-203.5 84.5h-832q-119 0 -203.5 -84.5t-84.5 -203.5v-832q0 -119 84.5 -203.5t203.5 -84.5h704q14 0 23 9t9 23v64q0 14 -9 23t-23 9h-704q-66 0 -113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113 -47t47 -113v-320q0 -14 9 -23t23 -9h64q14 0 23 9t9 23zM1792 64v512q0 26 -19 45t-45 19t-45 -19l-176 -176l-652 652q-10 10 -23 10t-23 -10l-114 -114q-10 -10 -10 -23t10 -23l652 -652l-176 -176q-19 -19 -19 -45t19 -45t45 -19h512q26 0 45 19t19 45z"></path>
</symbol>

                
                
            </defs>
        </svg>

        <!-- Non-production Warning -->
        <div id="non-prod-warning" class="bg-danger text-light text-center p-2 d-none">
            <strong>
                WARNING: THIS IS A DEVELOPMENT VERSION OF THE CDSC-WG1 WEBSITE
                <span class="d-inline-block">
                    (this message does not appear on
                    <a class="text-light" href="https://customerdata.carbondataspec.org">customerdata.carbondataspec.org</a>)
                </span>
            </strong>
        </div>
        <script>
            if (window.location.hostname.indexOf("customerdata.carbondataspec.org") === -1) {
                document.getElementById("non-prod-warning").classList.remove("d-none");
            }
        </script>

        <!-- Header -->
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container">
                <a
                    class="navbar-brand"
                    href="/Customer-Data/"
                    >CDSC-WG1</a>
                <button
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#header"
                    aria-controls="header"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
                >
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="header">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item">
                            <a
                                class="nav-link"
                                
                                href="/Customer-Data/"
                                >Home</a>
                        </li>
                        <li class="nav-item">
                            <a
                                class="nav-link"
                                
                                href="/Customer-Data/use-cases"
                                >Use Cases</a>
                        </li>
                        <li class="nav-item">
                            <a
                                class="nav-link active text-decoration-underline"
                                
                                href="/Customer-Data/specs"
                                >Specifications</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://github.com/carbon-data-specification/Customer-Data/tree/main/meetings" target="_blank"
                                >Meeting Minutes
                                <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- Content -->
        <div role="main" class="container pt-3 pb-5">
            <div class="row">
                <div class="col">
                    <p><a href="/Customer-Data/">Home</a> / <a href="/Customer-Data/specs">Specifications</a> / <code class="language-plaintext highlighter-rouge">cdsc-wg1-02</code> - Client Registration</p>

<h1 id="client-registration">Client Registration</h1>

<p>Looking for a more human-readable summary of this specification? Check out our <a href="/Customer-Data/specs/cdsc-wg1-02/overview">overview</a>.</p>

<p>Below is a rendering of the original specification source: <a href="https://github.com/daniel-utilityapi/Customer-Data/blob/main/specifications/cdsc-wg1-02.md">https://github.com/daniel-utilityapi/Customer-Data/blob/main/specifications/cdsc-wg1-02.md</a></p>

<hr />

<h1 id="cdsc-wg1-02---client-registration">CDSC-WG1-02 - Client Registration</h1>

<h2 id="abstract-">Abstract <a id="abstract" href="#abstract" class="permalink">üîó</a></h2>

<p>This specification defines how utilities and other central entities (‚ÄúServers‚Äù) may allow third parties (‚ÄúClients‚Äù) to register, configure, and maintain connectivity with the utility or other central entity. This specification mostly extends various OAuth specifications (<a href="https://www.rfc-editor.org/rfc/rfc7591">Dynamic Client Registration</a>, <a href="https://www.rfc-editor.org/rfc/rfc8414">Authorization Server Metadata</a>, and more) to create a robust framework for offering secure, streamlined, and standardized connectivity between utilities and third parties.</p>

<h2 id="status-">Status <a id="status" href="#status" class="permalink">üîó</a></h2>

<p><b style="color:red">WARNING: This specification is a DRAFT and has not achieved consensus by the working group.</b></p>

<h2 id="copyright-">Copyright <a id="copyright" href="#copyright" class="permalink">üîó</a></h2>

<p><span style="background-color:yellow">TODO</span></p>

<h2 id="table-of-contents-">Table of Contents <a id="table-of-contents" href="#table-of-contents" class="permalink">üîó</a></h2>

<ul>
  <li><a href="#introduction">1. Introduction</a></li>
  <li><a href="#terminology">2. Terminology</a></li>
  <li><a href="#auth-server-metadata">3. Authorization Server Metadata</a>
    <ul>
      <li><a href="#auth-server-metadata-url">3.1. Metadata URL</a></li>
      <li><a href="#auth-server-metadata-format">3.2. Metadata Object Format</a></li>
      <li><a href="#scope-descriptions-format">3.3. Scope Descriptions Object Format</a></li>
      <li><a href="#registration-field-format">3.4. Registration Field Object Format</a></li>
      <li><a href="#registration-field-types">3.5. Registration Field Types</a></li>
      <li><a href="#registration-field-formats">3.6. Registration Field Formats</a></li>
      <li><a href="#auth-details-fields-format">3.7. Authorization Details Field Object Format</a></li>
      <li><a href="#auth-details-field-formats">3.8. Authorization Details Field Formats</a></li>
    </ul>
  </li>
  <li><a href="#client-registration-process">4. Client Registration Process</a>
    <ul>
      <li><a href="#registration-request">4.1. Client Registration Request</a></li>
      <li><a href="#registration-response">4.2. Client Registration Response</a></li>
    </ul>
  </li>
  <li><a href="#clients-api">5. Clients API</a>
    <ul>
      <li><a href="#client-format">5.1. Client Object Format</a></li>
      <li><a href="#clients-list">5.2. Listing Clients</a></li>
      <li><a href="#clients-modify">5.3. Modifying Clients</a></li>
    </ul>
  </li>
  <li><a href="#client-settings-api">6. Client Settings API</a>
    <ul>
      <li><a href="#client-settings-format">6.1. Client Settings Object Format</a></li>
      <li><a href="#clients-settings-modify">6.2. Modifying Client Settings</a></li>
    </ul>
  </li>
  <li><a href="#client-updates-api">7. Client Updates API</a>
    <ul>
      <li><a href="#client-update-format">7.1. Client Update Object Format</a></li>
      <li><a href="#client-update-types">7.2. Client Update Types</a></li>
      <li><a href="#client-update-statuses">7.3. Client Update Statuses</a></li>
      <li><a href="#client-update-request-format">7.4. Client Update Request Object Format</a></li>
      <li><a href="#clients-updates-list">7.5. Listing Client Updates</a></li>
      <li><a href="#clients-updates-modify">7.6. Modifying Client Updates</a></li>
    </ul>
  </li>
  <li><a href="#scope-creds-api">8. Scope Credentials API</a>
    <ul>
      <li><a href="#scope-creds-format">8.1. Scope Credentials Object Format</a></li>
      <li><a href="#scope-creds-statuses">8.2. Scope Credentials Statuses</a></li>
      <li><a href="#scope-creds-list">8.3. Listing Scope Credentials</a></li>
      <li><a href="#scope-creds-create">8.4. Creating Scope Credentials</a></li>
      <li><a href="#scope-creds-modify">8.5. Modifying Scope Credentials</a></li>
      <li><a href="#scope-creds-delete">8.6. Deleting Scope Credentials</a></li>
    </ul>
  </li>
  <li><a href="#grants-api">9. Grants API</a>
    <ul>
      <li><a href="#grant-format">9.1. Grant Object Format</a></li>
      <li><a href="#grant-statuses">9.2. Grant Statuses</a></li>
      <li><a href="#grants-list">9.3. Listing Grants</a></li>
      <li><a href="#grants-modify">9.4. Modifying Grants</a></li>
    </ul>
  </li>
  <li><a href="#extensions">10. Extensions</a></li>
  <li><a href="#examples">11. Examples</a></li>
  <li><a href="#security">12. Security Considerations</a>
    <ul>
      <li><a href="#restricted-access">12.1. Restricted Access</a></li>
      <li><a href="#rate-limiting">12.2. Rate Limiting</a></li>
    </ul>
  </li>
  <li><a href="#references">13. References</a></li>
  <li><a href="#acknowledgments">14. Acknowledgments</a></li>
  <li><a href="#authors-addresses">15. Authors‚Äô Addresses</a></li>
</ul>

<h2 id="1-introduction-">1. Introduction <a id="introduction" href="#introduction" class="permalink">üîó</a></h2>

<p>This specification was developed as part of the global effort to combat the climate crisis. Specifically, in order to scalably measure carbon emissions of organizations and calculate the impact of deploying and operating clean energy technologies, companies need an efficient means to register and interact with energy utilities and other similar entities.</p>

<p>There are thousands of utilities serving customers across the world, and each have their own way of providing access to privileged functionality and data. This specification defines a way for these utilities and other entities (‚ÄúServers‚Äù) to provide a standardized, structured process for external users and companies (‚ÄúClients‚Äù) to register and obtain secure access to privileged functionality and data. By offering a standardized Client registration and management protocol, utilities and other entities can enable secure interoperability with other external systems providing climate-change fighting services such as carbon tracking, decarbonization measures, grid flexibility capabilities, and energy benchmarking.</p>

<p>This specification does NOT describe what specific privileged functionality or data is offered to Clients as part of their registration. Instead, relevant stakeholders are encouraged to write <a href="#extensions">Extensions</a> to this specification that enable various use cases that need access to privileged functionality or data. For example, this specification may be extended to define a method for Clients to be able to access customer-authorized energy usage data.</p>

<h2 id="2-terminology-">2. Terminology <a id="terminology" href="#terminology" class="permalink">üîó</a></h2>

<p><a id="server" href="#server" class="permalink">üîó</a> <strong>‚ÄúServer‚Äù</strong> - The entity hosting the specified endpoints. A Server can be an energy utility or another type of entity that want to provide access to privileged functionality or data. These entities can include, but are not limited to, distribution utilities, grid operators, electric retailers, community choice aggregators, government agencies, data warehouses, and private infrastructure providers.</p>

<p><a id="client" href="#client" class="permalink">üîó</a> <strong>‚ÄúClient‚Äù</strong> - The entity requesting Server‚Äôs metadata endpoints. A Client can be any organization or user seeking to register with a Server for a specific scope of access. These entities can include, but are not limited to, carbon tracking applications, electric vehicle companies, clean energy technology providers, commercial utility customers, grid management applications, and energy efficiency organizations.</p>

<p><a id="referenced-technologies" href="#referenced-technologies" class="permalink">üîó</a> Referenced Technologies: ‚Äú<a href="https://www.rfc-editor.org/rfc/rfc9110#name-https-uri-scheme">HTTPS</a>‚Äù, ‚Äú<a href="https://www.rfc-editor.org/rfc/rfc3986.html#section-1.1.3">URL</a>‚Äù, ‚Äú<a href="https://www.rfc-editor.org/rfc/rfc9110#name-methods">Request Methods</a>‚Äù, ‚Äú<a href="https://www.rfc-editor.org/rfc/rfc9110#name-status-codes">Status Codes</a>‚Äù, ‚Äú<a href="https://www.rfc-editor.org/rfc/rfc8259">JSON</a>‚Äù, ‚Äú<a href="https://oauth.net/specs/">OAuth</a>‚Äù, <span style="background-color:yellow">TODO: add more as needed</span> are defined by their referenced standards documents.</p>

<p><a id="key-words" href="#key-words" class="permalink">üîó</a> Key Words: ‚ÄúMUST‚Äù, ‚ÄúMUST NOT‚Äù, ‚ÄúREQUIRED‚Äù, ‚ÄúSHALL‚Äù, ‚ÄúSHALL NOT‚Äù, ‚ÄúSHOULD‚Äù, ‚ÄúSHOULD NOT‚Äù, ‚ÄúRECOMMENDED‚Äù, ‚ÄúNOT RECOMMENDED‚Äù, ‚ÄúMAY‚Äù, and ‚ÄúOPTIONAL‚Äù are defined in accordance with <a href="https://www.rfc-editor.org/info/bcp14">BCP 14</a>.</p>

<h2 id="3-authorization-server-metadata-">3. Authorization Server Metadata <a id="auth-server-metadata" href="#auth-server-metadata" class="permalink">üîó</a></h2>

<p>To enable automated Client registration, Servers MUST host an endpoint with structured metadata about how to submit a <a href="#registration-request">registration request</a>, as well as functionality and data capabilities offered by the Server. The requirements for hosting this metadata endpoint follows <a href="https://www.rfc-editor.org/rfc/rfc8414">OAuth 2.0 Authorization Server Metadata</a> with several additions for Carbon Data Specification (CDS) functionality described in the following sections.</p>

<h3 id="31-metadata-url-">3.1. Metadata URL <a id="auth-server-metadata-url" href="#auth-server-metadata-url" class="permalink">üîó</a></h3>

<p>Following OAuth‚Äôs <a href="https://www.rfc-editor.org/rfc/rfc8414#section-3">Obtaining Authorization Server Metadata</a> process, a Server‚Äôs Authorization Server Metadata Object is retrieved by making an HTTPS request to a specified URL.</p>

<p>To ensure discoverability to the specified URL, this specification extends <a href="/specs/cdsc-wg1-01/#server-capabilities">CDSC-WG1-01 Server Capabilities</a> to require the following values:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">oauth</code> - <em>string</em> - (REQUIRED) Including Client Registration via OAuth in the list of a Server‚Äôs available capabilities</li>
</ul>

<p>As well as extending the <a href="/specs/cdsc-wg1-01/#metadata-object-format">CDSC-WG1-01 Metadata Object Format</a> to require the following values:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">oauth_metadata</code> - <em>URL</em> - (REQUIRED) Where Clients can obtain the Server‚Äôs Authorization Server Metadata Object</li>
</ul>

<p>In addition to requiring that the URL be included in the <a href="/specs/cdsc-wg1-01/#metadata-object-format">CDSC-WG1-01 Metadata Object Format</a>, Servers MAY also configure the URL such that it conforms to the default <a href="#https://www.rfc-editor.org/rfc/rfc8414#section-7.3">Well-Known URI</a> format, which can increase interoperability beyond the above specified CDSC-WG1-01 extension.</p>

<h3 id="32-metadata-object-format-">3.2. Metadata Object Format <a id="auth-server-metadata-format" href="#auth-server-metadata-format" class="permalink">üîó</a></h3>

<p>A Server‚Äôs Authorization Server Metadata Object follows OAuth‚Äôs <a href="https://www.rfc-editor.org/rfc/rfc8414#section-2">Authorization Server Metadata</a> object format with the following modifications from OPTIONAL or RECOMMENDED to REQUIRED:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">registration_endpoint</code> - <em>URL</em> - (REQUIRED) OAuth‚Äôs <a href="https://www.rfc-editor.org/rfc/rfc7591">Dynamic Client Registration</a> functionality is required to enable the <a href="#client-registration-process">Client Registration Process</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">scopes_supported</code> -  <em>Array[string]</em> - (REQUIRED) Disclosure of available scopes is required to enable integration capabilities into other platforms. This array MUST contain the <code class="language-plaintext highlighter-rouge">client_admin</code> scope.</li>
  <li><code class="language-plaintext highlighter-rouge">service_documentation</code> - <em>URL</em> - (REQUIRED) Developer documentation is required by the Server to help streamline Client integration.</li>
  <li><code class="language-plaintext highlighter-rouge">op_policy_uri</code> - <em>URL</em> - (REQUIRED) Policies for Clients registering is required.</li>
  <li><code class="language-plaintext highlighter-rouge">op_tos_uri</code> - <em>URL</em> - (REQUIRED) Terms of use for Clients registering is required.</li>
  <li><code class="language-plaintext highlighter-rouge">revocation_endpoint</code> - <em>URL</em> - (REQUIRED) OAuth‚Äôs <a href="https://www.rfc-editor.org/rfc/rfc7009">Token Revocation</a> functionality is required.</li>
  <li><code class="language-plaintext highlighter-rouge">introspection_endpoint</code> - <em>URL</em> - (REQUIRED) OAuth‚Äôs <a href="https://www.rfc-editor.org/rfc/rfc7662">Token Introspection</a> functionality is required.</li>
  <li><code class="language-plaintext highlighter-rouge">code_challenge_methods_supported</code> - <em>Array[string]</em> - (REQUIRED) OAuth‚Äôs <a href="https://www.rfc-editor.org/rfc/rfc7636">Proof Key for Code Exchange by OAuth Public Clients</a> functionality is required. Servers MUST offer <code class="language-plaintext highlighter-rouge">S256</code> and MUST NOT offer <code class="language-plaintext highlighter-rouge">plain</code> code verifier methods.</li>
</ul>

<p>In addition to the standard set of OAuth <a href="https://www.rfc-editor.org/rfc/rfc8414#section-2">Authorization Server Metadata</a> values, this specification also requires the following OAuth extension capabilities to be included in the metadata object values:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">authorization_details_types_supported</code> - <em>Array[string]</em> - (REQUIRED) OAuth‚Äôs <a href="https://www.rfc-editor.org/rfc/rfc9396">Rich Authorization Requests</a> functionality is required. This array of values MUST be the same as <code class="language-plaintext highlighter-rouge">scopes_supported</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">pushed_authorization_request_endpoint</code> - <em>URL</em> - (REQUIRED) OAuth‚Äôs <a href="https://www.rfc-editor.org/rfc/rfc9126">Pushed Authorization Requests</a> functionality is required.</li>
</ul>

<p>In addition to the above additionally required set of OAuth <a href="https://www.rfc-editor.org/rfc/rfc8414#section-2">Authorization Server Metadata</a> values, this specification clarifies use of the following OAuth sandard values:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">response_types_supported</code> - <em>Array[string]</em> - (REQUIRED) The response types in this array MUST represent a union of all <code class="language-plaintext highlighter-rouge">response_types_supported</code> values contained in the <code class="language-plaintext highlighter-rouge">cds_scope_descriptions</code> object.</li>
  <li><code class="language-plaintext highlighter-rouge">grant_types_supported</code> - <em>Array[string]</em> - (REQUIRED) The response types in this array MUST represent a union of all <code class="language-plaintext highlighter-rouge">grant_types_supported</code> values contained in the <code class="language-plaintext highlighter-rouge">cds_scope_descriptions</code> object.</li>
  <li><code class="language-plaintext highlighter-rouge">token_endpoint_auth_methods_supported</code> - <em>Array[string]</em> - (REQUIRED) The response types in this array MUST represent a union of all <code class="language-plaintext highlighter-rouge">token_endpoint_auth_methods_supported</code> values contained in the <code class="language-plaintext highlighter-rouge">cds_scope_descriptions</code> object.</li>
</ul>

<p>In addition to OAuth capabilities included in the metadata object, this specification adds the following Carbon Data Specification (CDS) values:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">cds_oauth_version</code> - <em>string</em> - (REQUIRED) The version of the CDS-WG1-02 Client Registration specification that the Server has implemented, which for this version of the specification is <code class="language-plaintext highlighter-rouge">v1</code></li>
  <li><code class="language-plaintext highlighter-rouge">cds_human_registration</code> - <em>URL</em> - (REQUIRED) Where Clients who do not have the technical capacity to use the <code class="language-plaintext highlighter-rouge">registration_endpoint</code> can visit to manually register a Client using a web browser</li>
  <li><code class="language-plaintext highlighter-rouge">cds_client_directory</code> - <em>URL</em> - (REQUIRED) Where the Server hosts a webpage listing the Clients who have registered and been approved to be publicly listed as registered</li>
  <li><code class="language-plaintext highlighter-rouge">cds_test_accounts</code> - <em>URL</em> - (REQUIRED) Where Clients can find developer documentation on what test account credentials may be used for testing OAuth <code class="language-plaintext highlighter-rouge">response_type=code</code> authorization requests</li>
  <li><code class="language-plaintext highlighter-rouge">cds_clients_api</code> - <em>URL</em> - (REQUIRED) The base url for the <a href="#clients-api">Clients API</a></li>
  <li><code class="language-plaintext highlighter-rouge">cds_client_settings_api</code> - <em>URL</em> - (REQUIRED) The base url for the <a href="#client-settings-api">Client Settings API</a></li>
  <li><code class="language-plaintext highlighter-rouge">cds_client_updates_api</code> - <em>URL</em> - (REQUIRED) The base url for the <a href="#client-updates-api">Client Updates API</a></li>
  <li><code class="language-plaintext highlighter-rouge">cds_scope_credentials_api</code> - <em>URL</em> - (REQUIRED) The base url for the <a href="#scope-creds-api">Scope Credentials API</a></li>
  <li><code class="language-plaintext highlighter-rouge">cds_grants_api</code> - <em>URL</em> - (REQUIRED) The base url for the <a href="#grants-api">Grants API</a></li>
  <li><code class="language-plaintext highlighter-rouge">cds_scope_descriptions</code> - <em>Map[<a href="#scope-descriptions-format">ScopeDescription</a>]</em> - (REQUIRED) An object providing additional information about what Scope values listed in <code class="language-plaintext highlighter-rouge">scopes_supported</code> mean. This object MUST include a key for each Scope listed in <code class="language-plaintext highlighter-rouge">scopes_supported</code> with a <a href="#scope-descriptions-format">Scope Description</a> as that key‚Äôs value.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_registration_fields</code> - <em>Map[<a href="#registration-field-format">RegistrationField</a>]</em> - (REQUIRED) An object providing additional information about Registration Field that are referenced in <a href="#scope-descriptions-format">Scope Description‚Äôs</a> <code class="language-plaintext highlighter-rouge">registration_requirements</code> list. This object MUST include a key for each Registration Field <code class="language-plaintext highlighter-rouge">id</code> included in the <code class="language-plaintext highlighter-rouge">registration_requirements</code> lists in the metadata object with a <a href="#registration-field-format">Registration Field</a> as that key‚Äôs value. If all <code class="language-plaintext highlighter-rouge">registration_requirements</code> lists are empty, this reference object is an empty object (<code class="language-plaintext highlighter-rouge">{}</code>).</li>
</ul>

<p>Other values not mentioned here but listed in specifications for the Authorization Server Metadata specification or other extensions MAY be included as described in their respective specifications.</p>

<h3 id="33-scope-descriptions-object-format-">3.3. Scope Descriptions Object Format <a id="scope-descriptions-format" href="#scope-descriptions-format" class="permalink">üîó</a></h3>

<p>Scope Description objects are formatted as JSON objects and contain named values. The following values are included in the default list available in scope description objects.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">id</code> - <em>string</em> - (REQUIRED) The unique identifier of the scope. This MUST be the same value as the object key the Metadata Object‚Äôs <code class="language-plaintext highlighter-rouge">cds_scope_descriptions</code> object.</li>
  <li><code class="language-plaintext highlighter-rouge">name</code> - <em>string</em> - (REQUIRED) A human-readable name of the scope.</li>
  <li><code class="language-plaintext highlighter-rouge">description</code> - <em>string</em> - (REQUIRED) A human-readable description of what access or actions the scope will enable.</li>
  <li><code class="language-plaintext highlighter-rouge">documentation</code> - <em>URL</em> - (REQUIRED) Where developers can find documentation for the scope.</li>
  <li><code class="language-plaintext highlighter-rouge">registration_requirements</code> - <em>Array[string]</em> - (REQUIRED) A list of any registration fields that MUST be submitted with <a href="#registration-request">Client Registration Requests</a> or requirements that must be completed after registration before the scope is available to use in the Server‚Äôs production environment. All values in this array MUST be included in the Metadata Object‚Äôs <code class="language-plaintext highlighter-rouge">cds_registration_fields</code> object for a complete description of the requirement. If no additional requirements are needed, this value is an empty array (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">registration_optional</code> - <em>Array[string]</em> - (REQUIRED) A list of any registration fields that Clients MAY submit with the <a href="#registration-request">Client Registration Requests</a>. If no additional fields are available, this value is an empty array (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">response_types_supported</code> - <em>Array[string]</em> - (REQUIRED) The OAuth <code class="language-plaintext highlighter-rouge">response_type</code> values that can be used with this scope. This value follows the same behavior as OAuth‚Äôs <a href="https://www.rfc-editor.org/rfc/rfc8414#section-2">Metadata object <code class="language-plaintext highlighter-rouge">response_types_supported</code></a>, except that this value represents the response types supported for this individual scope and not all scopes for the Client. If a scope is not available for OAuth authorization requests (e.g. a <code class="language-plaintext highlighter-rouge">client_credentials</code>-only scope), this value is an empty array (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">grant_types_supported</code> - <em>Array[string]</em> - (REQUIRED) The OAuth grant type values that can be used with this scope. This value follows the same behavior as OAuth‚Äôs <a href="https://www.rfc-editor.org/rfc/rfc8414#section-2">Metadata object <code class="language-plaintext highlighter-rouge">grant_types_supported</code></a>, except that this value represents the grant types supported for this individual scope and not all scopes for the Client. This array MUST contain at least one grant type.</li>
  <li><code class="language-plaintext highlighter-rouge">token_endpoint_auth_methods_supported</code> - <em>Array[string]</em> - (REQUIRED) The OAuth client authentication methods that can be used for granting tokens with this scope. This value follows the same behavior as OAuth‚Äôs <a href="https://www.rfc-editor.org/rfc/rfc8414#section-2">Metadata object <code class="language-plaintext highlighter-rouge">token_endpoint_auth_methods_supported</code></a>, except that this value represents the client authentication methods supported for this individual scope and not all scopes for the Client. A value of <code class="language-plaintext highlighter-rouge">"none"</code> this array indicates that the scope may be used for public application without using a client secret.</li>
  <li><code class="language-plaintext highlighter-rouge">authorization_details_fields</code> - <em>Array[<a href="#auth-details-fields-format">AuthorizationDetailsField</a>]</em> - (REQUIRED) A list of fields that MAY be included in <a href="https://www.rfc-editor.org/rfc/rfc9396">Rich Authorization Requests</a> the authorization details object for this scope <code class="language-plaintext highlighter-rouge">type</code>. If no extra authorization details fields are available, this value is an empty list (<code class="language-plaintext highlighter-rouge">[]</code>).</li>
</ul>

<h3 id="34-registration-field-object-format-">3.4. Registration Field Object Format <a id="registration-field-format" href="#registration-field-format" class="permalink">üîó</a></h3>

<p>Registration Field objects are formatted as JSON objects and contain named values. The following values are included in the default list available in registration fields objects.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">id</code> - <em>string</em> - (REQUIRED) The unique identifier of the registration field. This MUST be the same value as the object key the Metadata Object‚Äôs <code class="language-plaintext highlighter-rouge">cds_registration_fields</code> object.</li>
  <li><code class="language-plaintext highlighter-rouge">type</code> - <em><a href="#registration-field-types">RegistrationFieldType</a></em> - (REQUIRED) What type of Registration Field this entry is.</li>
  <li><code class="language-plaintext highlighter-rouge">description</code> - <em>string</em> - (REQUIRED) A human-readable description of what should be submitted or expected for this registration field.</li>
  <li><code class="language-plaintext highlighter-rouge">documentation</code> - <em>URL</em> - (REQUIRED) Where developers can find more information about this registration field.</li>
  <li><code class="language-plaintext highlighter-rouge">field_name</code> - <em>string</em> - (OPTIONAL) If type is <code class="language-plaintext highlighter-rouge">registration_field</code>, this is the name of the field to submit in the <a href="#registration-request">Client Registration Request</a> and MUST start with <code class="language-plaintext highlighter-rouge">cds_</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">format</code> - <em><a href="#registration-field-formats">RegistrationFieldFormats</a></em> - (OPTIONAL) If type is <code class="language-plaintext highlighter-rouge">registration_field</code>, this is the data format that MUST be used in the value of the field.</li>
  <li><code class="language-plaintext highlighter-rouge">default</code> - <em>various</em> - (OPTIONAL) If type is <code class="language-plaintext highlighter-rouge">registration_field</code> and the field is optional, this is the default value that will be used in lieu of the Client submitting a value themselves. Including this <code class="language-plaintext highlighter-rouge">default</code> value in the object indicates the registration field is optional.</li>
  <li><code class="language-plaintext highlighter-rouge">max_length</code> - <em>integer</em> - (OPTIONAL) If format is one of <code class="language-plaintext highlighter-rouge">string</code>, <code class="language-plaintext highlighter-rouge">string_or_null</code>, <code class="language-plaintext highlighter-rouge">url</code>, <code class="language-plaintext highlighter-rouge">url_or_null</code>, <code class="language-plaintext highlighter-rouge">email</code>, or <code class="language-plaintext highlighter-rouge">email_or_null</code>, this is the maximum length of the submitted value, if not <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">max_size</code> - <em>integer</em> - (OPTIONAL) If format is one of <code class="language-plaintext highlighter-rouge">image</code>, <code class="language-plaintext highlighter-rouge">image_or_null</code>, <code class="language-plaintext highlighter-rouge">pdf</code>, or <code class="language-plaintext highlighter-rouge">pdf_or_null</code>, this is the maximum file size of the submitted value before encoding into <a href="https://en.wikipedia.org/wiki/Base64">Base64</a>, if not <code class="language-plaintext highlighter-rouge">null</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">amount</code> - <em>decimal</em> - (OPTIONAL) If type is <code class="language-plaintext highlighter-rouge">payment_required</code>, this is the amount in <code class="language-plaintext highlighter-rouge">currency</code> that will be required to complete registration.</li>
  <li><code class="language-plaintext highlighter-rouge">currency</code> - <em>string</em> - (OPTIONAL) If type is <code class="language-plaintext highlighter-rouge">payment_required</code>, this is the monetary currency in <a href="https://en.wikipedia.org/wiki/ISO_4217">ISO 4217</a> currency code.</li>
</ul>

<h3 id="35-registration-field-types-">3.5. Registration Field Types <a id="registration-field-types" href="#registration-field-types" class="permalink">üîó</a></h3>

<p>Registration Field types define which type of action the Client or Server will take for that registration field. Registration Fields can be either something that MUST or MAY be submitted as part of the <a href="#registration-request">Client Registration Request</a>, depending on the submitted scope‚Äôs <code class="language-plaintext highlighter-rouge">registration_requirements</code> and <code class="language-plaintext highlighter-rouge">registration_optional</code> values, or can be something that a Client must do after registration in order to be full approved for use in the production environment.</p>

<p>The following list of strings are an enumerated set of registration field types that are valid <code class="language-plaintext highlighter-rouge">type</code> values in the registration field object.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">registration_field</code> - This field should be submitting with the <a href="#registration-request">Client Registration Request</a> as the <code class="language-plaintext highlighter-rouge">field_name</code>. This type of registration field MUST also have <code class="language-plaintext highlighter-rouge">field_name</code> and <code class="language-plaintext highlighter-rouge">format</code> values. If this field is optional as part of registration, <code class="language-plaintext highlighter-rouge">default</code> must also be defined in the registration field object.</li>
  <li><code class="language-plaintext highlighter-rouge">manual_review</code> - This field indicates that the Server will manually review the registration before approving it for production use. Notifications and communication about the status of this manual review will be conveyed using the <a href="#client-updates-api">Client Updates API</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">payment_required</code> - This field indicates that a setup payment will be required before the Server will approve the Client for production use. Notifications and communication about how to pay and confirmation of payment will be conveyed using the <a href="#client-updates-api">Client Updates API</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">email_verification</code> - This field indicates that the Client must verify their email before the Server will approve the Client for production use. Notifications and communication about how to verify the Client‚Äôs contact email will be conveyed using the <a href="#client-updates-api">Client Updates API</a>.</li>
</ul>

<h3 id="36-registration-field-formats-">3.6. Registration Field Formats <a id="registration-field-formats" href="#registration-field-formats" class="permalink">üîó</a></h3>

<p>Registration Field formats define the data type of submitted values for these fields in <a href="#registration-request">Client Registration Requests</a>.</p>

<p>The following list of strings are an enumerated set of registration field formats that are valid <code class="language-plaintext highlighter-rouge">format</code> values in the registration field object.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">string</code> - If required, a string value MUST be submitted.</li>
  <li><code class="language-plaintext highlighter-rouge">string_or_null</code> - Same as <code class="language-plaintext highlighter-rouge">string</code>, only with <code class="language-plaintext highlighter-rouge">null</code> being an additional possible value.</li>
  <li><code class="language-plaintext highlighter-rouge">url</code> - If required, a URL value MUST be submitted.</li>
  <li><code class="language-plaintext highlighter-rouge">url_or_null</code> - Same as <code class="language-plaintext highlighter-rouge">url</code>, only with <code class="language-plaintext highlighter-rouge">null</code> being an additional possible value.</li>
  <li><code class="language-plaintext highlighter-rouge">email</code> - If required, a valid email address string MUST be submitted.</li>
  <li><code class="language-plaintext highlighter-rouge">email_or_null</code> - Same as <code class="language-plaintext highlighter-rouge">email</code>, only with <code class="language-plaintext highlighter-rouge">null</code> being an additional possible value.</li>
  <li><code class="language-plaintext highlighter-rouge">boolean</code> - If required, either <code class="language-plaintext highlighter-rouge">true</code> or <code class="language-plaintext highlighter-rouge">false</code> MUST be submitted.</li>
  <li><code class="language-plaintext highlighter-rouge">boolean_or_null</code> - Same as <code class="language-plaintext highlighter-rouge">boolean</code>, only with <code class="language-plaintext highlighter-rouge">null</code> being an additional possible value.</li>
  <li><code class="language-plaintext highlighter-rouge">image</code> - If required, a valid image file formatted as <code class="language-plaintext highlighter-rouge">image/jpeg</code> or <code class="language-plaintext highlighter-rouge">image/png</code> encoded as a string using <a href="https://en.wikipedia.org/wiki/Base64">Base64</a> MUST be submitted.</li>
  <li><code class="language-plaintext highlighter-rouge">image_or_null</code> - Same as <code class="language-plaintext highlighter-rouge">image</code>, only with <code class="language-plaintext highlighter-rouge">null</code> being an additional possible value.</li>
  <li><code class="language-plaintext highlighter-rouge">pdf</code> - If required, a valid pdf file formatted encoded using <a href="https://en.wikipedia.org/wiki/Base64">Base64</a> as a string MUST be submitted.</li>
  <li><code class="language-plaintext highlighter-rouge">pdf_or_null</code> - Same as <code class="language-plaintext highlighter-rouge">pdf</code>, only with <code class="language-plaintext highlighter-rouge">null</code> being an additional possible value.</li>
</ul>

<h3 id="37-authorization-details-field-object-format-">3.7. Authorization Details Field Object Format <a id="auth-details-fields-format" href="#auth-details-fields-format" class="permalink">üîó</a></h3>

<p>Authorization Details Field objects are formatted as JSON objects and contain named values. The following values are included in the default list available in authorization details field objects.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">id</code> - <em>string</em> - (REQUIRED) The unique identifier of the authorization details field. This value is used as the key for the field when added to <code class="language-plaintext highlighter-rouge">authorization_details</code> data fields as part of OAuth‚Äôs <a href="https://www.rfc-editor.org/rfc/rfc9396">Rich Authorization Requests</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">name</code> - <em>string</em> - (REQUIRED) A human-readable name of the authorization details field.</li>
  <li><code class="language-plaintext highlighter-rouge">description</code> - <em>string</em> - (REQUIRED) A human-readable description of what submitting values for this authorization details field means.</li>
  <li><code class="language-plaintext highlighter-rouge">documentation</code> - <em>URL</em> - (REQUIRED) Where developers can find more information about this authorization details field.</li>
  <li><code class="language-plaintext highlighter-rouge">format</code> - <em><a href="#auth-details-field-formats">AuthorizationDetailsFieldFormats</a></em> - (OPTIONAL) The data format that MUST be used in the value of the field when including it as a data field in <code class="language-plaintext highlighter-rouge">authorization_details</code> objects.</li>
  <li><code class="language-plaintext highlighter-rouge">default</code> - <em>various</em> - (REQUIRED) The default value that will be used in lieu of the Client submitting a value themselves. This is also the value that will be used if a basic OAuth <code class="language-plaintext highlighter-rouge">scope</code> string parameter is used instead of an <code class="language-plaintext highlighter-rouge">authorization_details</code> parameter.</li>
  <li><code class="language-plaintext highlighter-rouge">relative_date_limit</code> - <em>integer</em> - (OPTIONAL) If <code class="language-plaintext highlighter-rouge">format</code> is <code class="language-plaintext highlighter-rouge">relative_or_absolute_date</code>, this is the largest relative date range that may be submitted. Servers MUST validate both submitted absolute dates and relative dates against the relative date limit, where when comparing to a submitted absolute date, the current Server date in the Server‚Äôs local timezone is used as the relative point of reference.</li>
  <li><code class="language-plaintext highlighter-rouge">absolute_date_limit</code> - <em>integer</em> - (OPTIONAL) If <code class="language-plaintext highlighter-rouge">format</code> is <code class="language-plaintext highlighter-rouge">relative_or_absolute_date</code>, this is the furthest away date that may be submitted. Servers MUST validate both submitted absolute dates and relative dates against the absolute date limit, where when comparing to a submitted relative date, the current Server date in the Server‚Äôs local timezone is used as the relative point of reference.</li>
  <li><code class="language-plaintext highlighter-rouge">limit</code> - <em>integer</em> - (OPTIONAL) If format is one of <code class="language-plaintext highlighter-rouge">int</code> or <code class="language-plaintext highlighter-rouge">decimal</code>, this is the largest value that can be the submitted.</li>
</ul>

<h3 id="38-authorization-details-field-formats-">3.8. Authorization Details Field Formats <a id="auth-details-field-formats" href="#auth-details-field-formats" class="permalink">üîó</a></h3>

<p>Authorization Details Field formats define the data type of submitted values for these fields in <code class="language-plaintext highlighter-rouge">authorization_details</code> for OAuth‚Äôs <a href="https://www.rfc-editor.org/rfc/rfc9396">Rich Authorization Requests</a>.</p>

<p>The following list of strings are an enumerated set of authorization details field formats that are valid <code class="language-plaintext highlighter-rouge">format</code> values in the <a href="#auth-details-fields-format">Authorization Details Field objects</a>.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">relative_or_absolute_date</code> - A relative or absolute date string. Relative dates are formatted as a positive integer followed by a <code class="language-plaintext highlighter-rouge">y</code>, <code class="language-plaintext highlighter-rouge">m</code>, <code class="language-plaintext highlighter-rouge">w</code>, or <code class="language-plaintext highlighter-rouge">d</code> character, where the character represents the unit of duration (year, month, week, and day), and the integer represents the number of units for that duration. For example, <code class="language-plaintext highlighter-rouge">3y</code> represents a relative date range of 3 years. Absolute dates are formatted as ISO8601 dates (<code class="language-plaintext highlighter-rouge">YYYY-MM-DD</code>). For example, <code class="language-plaintext highlighter-rouge">2024-01-02</code> represents the 2nd of January, 2024. Dates are defined as the date from the perspective of the Server‚Äôs local timezone.</li>
  <li><code class="language-plaintext highlighter-rouge">int</code> - An integer value.</li>
  <li><code class="language-plaintext highlighter-rouge">decimal</code> - A decimal value, which can have any number of significant units, but MUST NOT be stored or handled as a float value, in order to retain the precision of the value throughout Server and Client processing.</li>
</ul>

<h2 id="4-client-registration-process-">4. Client Registration Process <a id="client-registration-process" href="#client-registration-process" class="permalink">üîó</a></h2>

<p>OAuth‚Äôs <a href="https://www.rfc-editor.org/rfc/rfc7591">Dynamic Client Registration</a> is used as the basis for initially registering Clients with Servers. To perform the dynamic registration process, the Client submits a request to the Server‚Äôs <code class="language-plaintext highlighter-rouge">registration_endpoint</code> provided in the Server‚Äôs <a href="#auth-server-metadata-format">Metadata object</a> as described in <a href="#registration-request">Client Registration Request</a>. The Server then responds with either an error or a generated Client registration response as described in <a href="#registration-response">Client Registration Response</a>.</p>

<h3 id="41-client-registration-request-">4.1. Client Registration Request <a id="registration-request" href="#registration-request" class="permalink">üîó</a></h3>

<p>This specification requires Clients and Servers follow the process described in OAuth‚Äôs <a href="https://www.rfc-editor.org/rfc/rfc7591#section-3.1">Client Registration Request</a>, with the following modifications.</p>

<ul>
  <li>Clients MAY submit additional named values that are defined as part of scope <code class="language-plaintext highlighter-rouge">registration_requirements</code> and <code class="language-plaintext highlighter-rouge">registration_optional</code> arrays in <code class="language-plaintext highlighter-rouge">cds_scope_descriptions</code> objects, using the registration field reference‚Äôs <code class="language-plaintext highlighter-rouge">field_name</code> value as the submitted key in the registration request.</li>
</ul>

<h3 id="42-client-registration-response-">4.2. Client Registration Response <a id="registration-response" href="#registration-response" class="permalink">üîó</a></h3>

<p>This specification requires Servers follow the process described in OAuth‚Äôs <a href="https://www.rfc-editor.org/rfc/rfc7591#section-3.2">Client Registration Response</a>, with the following modifications.</p>

<ul>
  <li>A <code class="language-plaintext highlighter-rouge">client_secret</code> value MUST be present in the response and be limited to <code class="language-plaintext highlighter-rouge">client_admin</code> scope use only.</li>
  <li>The <code class="language-plaintext highlighter-rouge">scope</code> value MUST include the <code class="language-plaintext highlighter-rouge">client_admin</code> scope.</li>
</ul>

<p>Additionally, the following additional named values MUST be included in the response.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">cds_server_metadata</code> - <em>URL</em> - (REQUIRED) Where the Client can find their registration-specific version of the <a href="/specs/cdsc-wg1-01/">CDSC-WG1-01 Server Metadata</a>. If the Client‚Äôs CDSC server metadata is no different from the public CDSC server metadata, Servers MAY simply link to the public URL. If this metadata endpoint requires authentication, Servers MUST authenticate Client requests to this endpoint via Bearer access token obtained using OAuth‚Äôs <code class="language-plaintext highlighter-rouge">client_credentials</code> grant with a scope of <code class="language-plaintext highlighter-rouge">client_admin</code>, and reject unauthenticated requests with a <code class="language-plaintext highlighter-rouge">401 Unauthorized</code> response code. Clients know that they must use a Bearer token when Servers return a <code class="language-plaintext highlighter-rouge">401</code> response code for this endpoint when the Client makes an unauthenticated request to the endpoint.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_clients_api</code> - <em>URL</em> - (REQUIRED) The base url for the <a href="#clients-api">Clients API</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_client_settings_api</code> - <em>URL</em> - (REQUIRED) The base url for the <a href="#client-settings-api">Client Settings API</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_client_updates_api</code> - <em>URL</em> - (REQUIRED) The base url for the <a href="#client-updates-api">Client Updates API</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_scope_credentials_api</code> - <em>URL</em> - (REQUIRED) The base url for the <a href="#scope-creds-api">Scope Credentials API</a>.</li>
  <li><code class="language-plaintext highlighter-rouge">cds_grants_api</code> - <em>URL</em> - (REQUIRED) The base url for the <a href="#grants-api">Grants API</a>.</li>
</ul>

<h2 id="5-clients-api-">5. Clients API <a id="clients-api" href="#clients-api" class="permalink">üîó</a></h2>

<p><span style="background-color:yellow">TODO</span></p>

<h3 id="51-client-object-format-">5.1. Client Object Format <a id="client-format" href="#client-format" class="permalink">üîó</a></h3>

<p><span style="background-color:yellow">TODO</span></p>

<h3 id="52-listing-clients-">5.2. Listing Clients <a id="clients-list" href="#clients-list" class="permalink">üîó</a></h3>

<p><span style="background-color:yellow">TODO</span></p>

<h3 id="53-modifying-clients-">5.3. Modifying Clients <a id="clients-modify" href="#clients-modify" class="permalink">üîó</a></h3>

<p><span style="background-color:yellow">TODO</span></p>

<h2 id="6-client-settings-api-">6. Client Settings API <a id="client-settings-api" href="#client-settings-api" class="permalink">üîó</a></h2>

<p><span style="background-color:yellow">TODO</span></p>

<h3 id="61-client-settings-object-format-">6.1. Client Settings Object Format <a id="client-settings-format" href="#client-settings-format" class="permalink">üîó</a></h3>

<p><span style="background-color:yellow">TODO</span></p>

<h3 id="62-modifying-client-settings-">6.2. Modifying Client Settings <a id="clients-settings-modify" href="#clients-settings-modify" class="permalink">üîó</a></h3>

<p><span style="background-color:yellow">TODO</span></p>

<h2 id="7-client-updates-api-">7. Client Updates API <a id="client-updates-api" href="#client-updates-api" class="permalink">üîó</a></h2>

<p><span style="background-color:yellow">TODO</span></p>

<h3 id="71-client-update-object-format-">7.1. Client Update Object Format <a id="client-update-format" href="#client-update-format" class="permalink">üîó</a></h3>

<p><span style="background-color:yellow">TODO</span></p>

<h3 id="72-client-update-types-">7.2. Client Update Types <a id="client-update-types" href="#client-update-types" class="permalink">üîó</a></h3>

<p><span style="background-color:yellow">TODO</span></p>

<h3 id="73-client-update-statuses-">7.3. Client Update Statuses <a id="client-update-statuses" href="#client-update-statuses" class="permalink">üîó</a></h3>

<p><span style="background-color:yellow">TODO</span></p>

<h3 id="74-client-update-request-object-format-">7.4. Client Update Request Object Format <a id="client-update-request-format" href="#client-update-request-format" class="permalink">üîó</a></h3>

<p><span style="background-color:yellow">TODO</span></p>

<h3 id="75-listing-client-updates-">7.5. Listing Client Updates <a id="clients-updates-list" href="#clients-updates-list" class="permalink">üîó</a></h3>

<p><span style="background-color:yellow">TODO</span></p>

<h3 id="76-modifying-client-updates-">7.6. Modifying Client Updates <a id="clients-updates-modify" href="#clients-updates-modify" class="permalink">üîó</a></h3>

<p><span style="background-color:yellow">TODO</span></p>

<h2 id="8-scope-credentials-api-">8. Scope Credentials API <a id="scope-creds-api" href="#scope-creds-api" class="permalink">üîó</a></h2>

<p><span style="background-color:yellow">TODO</span></p>

<h3 id="81-scope-credentials-object-format-">8.1. Scope Credentials Object Format <a id="scope-creds-format" href="#scope-creds-format" class="permalink">üîó</a></h3>

<p><span style="background-color:yellow">TODO</span></p>

<h3 id="82-scope-credentials-statuses-">8.2. Scope Credentials Statuses <a id="scope-creds-statuses" href="#scope-creds-statuses" class="permalink">üîó</a></h3>

<p><span style="background-color:yellow">TODO</span></p>

<h3 id="83-listing-scope-credentials-">8.3. Listing Scope Credentials <a id="scope-creds-list" href="#scope-creds-list" class="permalink">üîó</a></h3>

<p><span style="background-color:yellow">TODO</span></p>

<h3 id="84-creating-scope-credentials-">8.4. Creating Scope Credentials <a id="scope-creds-create" href="#scope-creds-create" class="permalink">üîó</a></h3>

<p><span style="background-color:yellow">TODO</span></p>

<h3 id="85-modifying-scope-credentials-">8.5. Modifying Scope Credentials <a id="scope-creds-modify" href="#scope-creds-modify" class="permalink">üîó</a></h3>

<p><span style="background-color:yellow">TODO</span></p>

<h3 id="86-deleting-scope-credentials-">8.6. Deleting Scope Credentials <a id="scope-creds-delete" href="#scope-creds-delete" class="permalink">üîó</a></h3>

<p><span style="background-color:yellow">TODO</span></p>

<h2 id="9-grants-api-">9. Grants API <a id="grants-api" href="#grants-api" class="permalink">üîó</a></h2>

<p><span style="background-color:yellow">TODO</span></p>

<h3 id="91-grant-object-format-">9.1. Grant Object Format <a id="grant-format" href="#grant-format" class="permalink">üîó</a></h3>

<p><span style="background-color:yellow">TODO</span></p>

<h3 id="92-grant-statuses-">9.2. Grant Statuses <a id="grant-statuses" href="#grant-statuses" class="permalink">üîó</a></h3>

<p><span style="background-color:yellow">TODO</span></p>

<h3 id="93-listing-grants-">9.3. Listing Grants <a id="grants-list" href="#grants-list" class="permalink">üîó</a></h3>

<p><span style="background-color:yellow">TODO</span></p>

<h3 id="94-modifying-grants-">9.4. Modifying Grants <a id="grants-modify" href="#grants-modify" class="permalink">üîó</a></h3>

<p><span style="background-color:yellow">TODO</span></p>

<h2 id="10-extensions-">10. Extensions <a id="extensions" href="#extensions" class="permalink">üîó</a></h2>

<p><span style="background-color:yellow">TODO</span></p>

<h2 id="11-examples-">11. Examples <a id="examples" href="#examples" class="permalink">üîó</a></h2>

<p><span style="background-color:yellow">TODO</span></p>

<h2 id="12-security-considerations-">12. Security Considerations <a id="security" href="#security" class="permalink">üîó</a></h2>

<p>This specification describes a protocol by which a utility or other entity (a Server) can allow third parties (Clients) to register and obtain privileged access to the Server‚Äôs offered capabilities and data. Because the functionality described in this specification enables access to private Server functionality and data, Servers MUST follow industry cybersecurity best practices when securing their implementations of this specification to prevent unintended or inadvertent access to privileged functionality or data to Clients who are not authorized. These best practices include requiring HTTPS for API endpoints using the latest widely adopted encryption standards, undergoing regular security audits and penetration tests, and internally requiring security-focused process controls and data handling procedures.</p>

<h3 id="121-restricted-access-">12.1. Restricted Access <a id="restricted-access" href="#restricted-access" class="permalink">üîó</a></h3>

<p>For unauthenticated endpoints (<a href="#auth-server-metadata">Authorization Server Metadata</a>, <a href="#client-registration-process">Client Registration Process</a>), while Servers can add <a href="#rate-limiting">rate limiting</a> configurations to protect their systems from being overwhelmed with requests, Servers MUST NOT add anti-bot blocking measures (e.g. captchas) that prevent automated requests from other systems. The functionality described in this specification is intended to be able to be integrated in other platforms to allow those platforms to automate interactions with Servers on their users‚Äô behalf.</p>

<p>If <a href="#auth-server-metadata">Authorization Server Metadata</a> is referenced in a public <a href="/specs/cdsc-wg1-01/#metadata-endpoint">CDSC-WG1-01 Server Metadata endpoint</a>, then the <a href="#auth-server-metadata">Authorization Server Metadata</a> and <a href="#client-registration-process">Client Registration Process</a> must also be public.</p>

<p>Servers that wish to restrict access of by-default unauthenticated endpoints to certain Clients MUST configure well established authentication processes for Clients to ensure that only the approved Clients may access the restricted endpoint. This specification does not describe specifically how Servers will authenticate Clients for by-default unauthenticated endpoints, as these restricted access protocols are context dependent. For example, if a Server providing a private Client Registration endpoint as part of an existing logged in portal, then they can use that logged in portal‚Äôs session cookie to authenticate Client requests to the registration endpoint.</p>

<p>For authenticated endpoints (<a href="#clients-api">Clients API</a>, <a href="#client-settings-api">Client Settings API</a>, <a href="#client-updates-api">Client Updates API</a>, <a href="#scope-creds-api">Scope Credentials API</a>, <a href="#grants-api">Grants API</a>), Servers MUST authenticate requests using OAuth‚Äôs <a href="https://www.rfc-editor.org/rfc/rfc6750#section-2.1">Authorization Request Header Field</a> with access tokens obtained using the OAuth‚Äôs <a href="https://www.rfc-editor.org/rfc/rfc6749#section-5">Issuing an Access Token</a> process.</p>

<h3 id="122-rate-limiting-">12.2. Rate Limiting <a id="rate-limiting" href="#rate-limiting" class="permalink">üîó</a></h3>

<p>For unauthenticated endpoints (<a href="#auth-server-metadata">Authorization Server Metadata</a>, <a href="#client-registration-process">Client Registration Process</a>), Servers SHOULD configure rate limiting restrictions so that bots and misconfigured scripts will not flood and overwhelm the endpoints with requests, while still allowing legitimate and low-volume automated requests have access to the endpoints.</p>

<p>For authenticated endpoints (<a href="#clients-api">Clients API</a>, <a href="#client-settings-api">Client Settings API</a>, <a href="#client-updates-api">Client Updates API</a>, <a href="#scope-creds-api">Scope Credentials API</a>, <a href="#grants-api">Grants API</a>), Servers SHOULD configure rate limiting by Client and Scope Credential to ensure that individual Clients do not overwhelm Servers with authenticated API requests. Additionally, Servers SHOULD configure rate limiting for unauthenticated or failed authentication requests to authenticated API endpoints to prevent brute force attempts to gain access to authenticated APIs.</p>

<h2 id="13-references-">13. References <a id="references" href="#references" class="permalink">üîó</a></h2>

<p><span style="background-color:yellow">TODO</span></p>

<h2 id="14-acknowledgments-">14. Acknowledgments <a id="acknowledgments" href="#acknowledgments" class="permalink">üîó</a></h2>

<p>The authors would like to thank the late Shuli Goodman, who was the Executive Director of LFEnergy, for her incredible leadership in initially organizing the Carbon Data Specification.</p>

<h2 id="15-authors-addresses-">15. Authors‚Äô Addresses <a id="authors-addresses" href="#authors-addresses" class="permalink">üîó</a></h2>

<p>Daniel Roesler<br />
UtilityAPI<br />
Email: <a href="mailto:daniel@utilityapi.com">daniel@utilityapi.com</a><br />
URI: <a href="https://utilityapi.com/">https://utilityapi.com/</a></p>

<hr />

<h1 id="other-drafts-">Other Drafts <a id="other-drafts" href="#other-drafts" class="permalink">üîó</a></h1>

<ul>
  <li>Maintainer‚Äôs draft: [<a href="https://daniel-utilityapi.github.io/Customer-Data/specs/cdsc-wg1-02">Website</a>] [<a href="https://github.com/daniel-utilityapi/Customer-Data/blob/main/specifications/cdsc-wg1-02.md">Code</a>]</li>
</ul>

                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="bg-light pt-5 pb-5">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <h4>Customer Data Working Group:</h4>
                        <ul>
                            <li>
                                <a href="/Customer-Data/"
                                    >Working Group website</a>
                                (this website!)
                            </li>
                            <li>
                                <a href="/Customer-Data/use-cases"
                                    >Use Cases</a>
                            </li>
                            <li>
                                <a href="/Customer-Data/specs"
                                    >Specifications</a>
                            </li>
                            <li>
                                <a href="https://github.com/carbon-data-specification/Customer-Data" target="_blank"
                                    >Github Repository
                                    <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                            </li>
                            <li>
                                <a href="https://github.com/carbon-data-specification/Customer-Data/tree/main/meetings" target="_blank"
                                    >Meeting Minutes
                                    <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                            </li>
                            <li>
                                <a href="https://github.com/carbon-data-specification/Customer-Data/pulls" target="_blank"
                                    >Active Pull Requests
                                    <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                            </li>
                            <li>
                                <a href="https://lists.lfenergy.org/g/cdsc-customer-data-wg" target="_blank"
                                    >Mailing List
                                    <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                            </li>
                            <li>
                                <a href="https://lists.lfenergy.org/g/cdsc-customer-data-wg/calendar" target="_blank"
                                    >Event Calendar
                                    <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                            </li>
                            <li>
                                <a href="https://slack.lfenergy.org/" target="_blank"
                                    >Slack
                                    <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                                (channel: <code>#cdsc-customer-data-wg</code>)
                            </li>
                        </ul>
                    </div>
                    <div class="col">
                        <h4>CDSC / Linux Foundation:</h4>
                        <ul>
                            <li>
                                <a href="https://www.linuxfoundation.org/" target="_blank"
                                    >Linux Foundation
                                    <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                                <ul>
                                    <li>
                                        <a href="https://www.lfenergy.org/" target="_blank"
                                            >LF Energy
                                            <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                                        <ul>
                                            <li>
                                                <a href="https://carbondataspec.org" target="_blank"
                                                    >Carbon Data Specification Consortium (CDSC)
                                                    <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                                                <ul>
                                                    <li>
                                                        <a href="https://github.com/carbon-data-specification/Customer-Data" target="_blank"
                                                            >Customer Data Working Group (WG1)
                                                            <svg class="svgicon"><use href="#fa-external-link"/></svg></a> (i.e. this working group)
                                                    </li>
                                                    <li>
                                                        <a href="https://github.com/carbon-data-specification/Power-Systems-Data" target="_blank"
                                                            >Power Systems Data Working Group (WG2)
                                                            <svg class="svgicon"><use href="#fa-external-link"/></svg></a>
                                                    </li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>

        <!-- Scripts -->
        <script src="/Customer-Data/assets/bootstrap-5.1.3-dist/js/bootstrap.bundle.min.js"></script>
        
        
    </body>
</html>

